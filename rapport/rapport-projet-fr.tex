% Formatage général
	\documentclass[a4paper,11pt]{article}
	\usepackage[T1]{fontenc} % Encodage des caractères spéciaux
	\usepackage{helvet} % Police équivalent Arial
	\usepackage[french]{babel} % Localisation en français
	\frenchbsetup{StandardLists=true} % Pour dire à babel de garder le formatage standard (anglais) des listes à puce
	\usepackage{csquotes} % Pour remplacer automatiquement les guillemets par des guillemets typographique
	\MakeOuterQuote{"} % Le caractère utilisé pour rentrer les guillemets dans le code est le "
	
% Dimensions
	\usepackage[margin=2cm]{geometry} % Marges
	\setlength{\parindent}{0pt} % Largeur de l'alinéa

% Couleurs
	\usepackage{xcolor} % Permet de passer un texte en couleur avec la commande \textcolor{color}{text}
	\definecolor{darkpowderblue}{rgb}{0.0, 0.2, 0.6} % Couleur perso bleue foncée appliquée aux liens URL
	\definecolor{gamboge}{rgb}{0.89, 0.61, 0.06} % Couleur perso orange appliquée aux subsubsections
	\definecolor{ece}{RGB}{0, 122, 123} % Couleur ECE appliquée aux autres titres
	\definecolor{verylightgray}{RGB}{240, 240, 240} % Couleur de fond du résumé
	
% Formatage des titres
	\usepackage{titlesec} % Package utilisé pour formater les titres
	\usepackage{needspace}
	
	% Formatage des sections
	\titleformat*{\section}{\needspace{5\baselineskip}\fontsize{18}{18}\bfseries\color{ece}} % Titre en 18 pt, gras, couleur ECE
	\titlespacing*{\section}
		{0mm} % Marge à gauche du titre
		{8mm} % Espacement avant le titre
		{4mm} % Espacement après le titre
	
	% Formatage dessub sections
	\titleformat*{\subsection}{\needspace{3\baselineskip}\fontsize{14}{14}\bfseries\color{ece}} % Titre en 14 pt, gras, couleur ECE
	\titlespacing*{\subsection}
		{0mm} % Marge à gauche du titre
		{6mm} % Espacement avant le titre
		{4mm} % Espacement après le titre
	
	% Formatage des subsubsections
	\titleformat*{\subsubsection}{\needspace{1\baselineskip}\fontsize{12}{12}\bfseries\color{gamboge}} % Titre en 12 pt, gras, couleur orange
	\titlespacing*{\subsubsection}
		{0mm} % Marge à gauche du titre
		{4mm} % Espacement avant le titre
		{4mm} % Espacement après le titre
	
% En-tête et pied de page
	\usepackage{fancyhdr} % Package utilisé pour personnaliser facilement en-tête et pied-de-page
	\renewcommand{\headrulewidth}{0pt} % Épaisseur de la ligne de séparation entre en-tête et corps du rapport
	
	\fancypagestyle{main}{ % En-tête et pied de page pour toutes les autres pages
		\fancyhead[L]{\includegraphics[width=2cm]{images/ece.png}} % En haut à gauche, le logo ECE
		\fancyhead[R]{ING4 Groupe 1 APP SE} % En haut à droite, l'année et le groupe
		\fancyfoot[C]{\thepage} % En bas au centre, le numéro de page
	}
	\pagestyle{main}
		
% Page de titre
	\newcommand{\HRule}[1]{\rule{\linewidth}{#1}} % Ligne de séparation horizontale d'une épaisseur donnée

% Figures
	\usepackage{graphicx} % Permet l'ajout d'images en spécifiant la taille
	\usepackage{subcaption} % Package utilisé pour avoir des sous-figures avec chacune une légende
	\usepackage[labelfont=bf]{caption} % "Figure" et numéro en gras
	
% Liens
	\usepackage[colorlinks=true,linkcolor=black,urlcolor=darkpowderblue]{hyperref}

\begin{document}
	
	\title{
		\begin{figure}[htb]
			\begin{minipage}[t]{.45\textwidth}
				\centering
				\includegraphics[width=6cm]{images/ece.png}
			\end{minipage}
			\hfill
			\begin{minipage}[t]{.45\textwidth}
				\centering
				\raggedleft\vspace{-12mm}\Large{\textbf{ING4\\Groupe 1 APP SE}}
			\end{minipage}  
		\end{figure}
		\vspace{2cm}
		\HRule{1.5pt} \\ [0.5cm]
		\LARGE \textbf{\Large{RAPPORT DE PROJET}\\ [5mm]
		\huge{\textcolor{ece}{Flapic Bird}}}
		\HRule{1.5pt} \\ [3mm]
		
		\normalsize
		\vspace{1cm}
		\fcolorbox{white}{verylightgray}{
			\begin{minipage}{16cm}
				\vspace{0.5cm}
				\textbf{Note préliminaire} -- Ce rapport a été rédigé avec l'assistance de GitHub Copilot, une intelligence artificielle, pour la structuration et l'analyse du projet.
				
				\textbf{RÉSUMÉ} -- Ce projet consiste en la réalisation d'une version embarquée du célèbre jeu Flappy Bird sur un microcontrôleur PIC18F4550. Le jeu utilise un écran GLCD pour l'affichage et communique avec un PC via USB pour la configuration et le suivi des scores. Le projet combine des aspects de programmation embarquée, de communication USB et de développement de jeux vidéo.
				\vspace{0.5cm}
			\end{minipage}}
		\vfill
	}
	
	\author{
		Clément BEAUGEANT - Nicolas CHAUDEMANCHE - Malo COLIN - Thomas GAUTRON 
	}
	
	\date{
		Nous attestons que ce travail est original,\\
		qu’il est le fruit d’un travail commun au quatuore et qu’il a été rédigé de manière autonome.\\ [2mm]
		\textbf{Paris, le 3 novembre 2025}
	}
	
	\maketitle % Page de titre
	
	\newpage
	\tableofcontents % Table des matières
	
	\newpage
	\section{Objectifs}
	
		L'objectif de ce document est de présenter le développement d'une version embarquée du jeu Flappy Bird sur un microcontrôleur PIC18F4550. Ce rapport détaille les aspects techniques de l'implémentation, notamment :
		
		\begin{itemize}
			\item La programmation du microcontrôleur PIC18F4550
			\item L'interfaçage avec un écran GLCD
			\item La communication USB avec un PC
			\item Le développement d'une interface graphique en Python
			\item L'intégration des différents composants matériels
		\end{itemize}
		
		Le lecteur trouvera une documentation complète du processus de développement, des choix techniques effectués, et des résultats obtenus.
	\newpage
	\section{Glossaire}
		\subsection{Termes}
		
			\begin{tabular}{|p{3cm}|p{12cm}|}
				\hline
				\textbf{Terme} & \textbf{Définition} \\
				\hline
				GLCD & Écran LCD graphique permettant l'affichage de pixels individuels \\
				\hline
				USB CDC & USB Communications Device Class, protocole permettant la communication série via USB \\
				\hline
				ADC & Convertisseur Analogique-Numérique, utilisé pour lire les valeurs du potentiomètre \\
				\hline
				Timer & Compteur matériel utilisé pour générer des interruptions périodiques \\
				\hline
				Interruption & Événement matériel ou logiciel qui interrompt l'exécution normale du programme \\
				\hline
			\end{tabular}
			
		\subsection{Acronymes}
		
			\begin{tabular}{|p{2cm}|p{4cm}|p{9cm}|}
				\hline
				\textbf{Acronyme} & \textbf{Signification} & \textbf{Explication} \\
				\hline
				PIC & Peripheral Interface Controller & Famille de microcontrôleurs développés par Microchip Technology \\
				\hline
				GLCD & Graphic Liquid Crystal Display & Écran à cristaux liquides capable d'afficher des graphiques \\
				\hline
				USB & Universal Serial Bus & Standard de bus série pour la connexion de périphériques \\
				\hline
				CDC & Communications Device Class & Classe de périphérique USB pour la communication série \\
				\hline
				ADC & Analog-to-Digital Converter & Convertisseur de signaux analogiques en valeurs numériques \\
				\hline
			\end{tabular}
	\newpage		
	\section{L'équipe}
		\subsection{Présentation de l’équipe}
			
			Le projet a été réalisé par une équipe de quatre étudiants en ING4 à l'ECE Paris :
			
			\begin{itemize}
				\item BEAUGEANT Clément
				\item CHAUDEMANCHE Nicolas
				\item COLIN Malo
				\item GAUTRON Thomas
			\end{itemize}
			
			L'équipe combine plusieurs compétences complémentaires :
			
			\begin{itemize}
				\item Programmation en C pour microcontrôleur PIC18F
				\item Développement Python pour l'interface graphique
				\item Communication USB et protocoles série
				\item Conception de circuits électroniques
				\item Gestion de projet et documentation technique
				\item Intégration de capteurs (ultrason, infrarouge)
				\item Développement d'interfaces utilisateur
			\end{itemize}
			
		\subsection{Organisation du travail}
			% TODO: Ajouter un tableau de répartition des tâches avec les responsabilités de chaque membre
			\begin{itemize}
				\item \textbf{BEAUGEANT Clément} : 
					
				\item \textbf{CHAUDEMANCHE Nicolas} : 
					
				\item \textbf{COLIN Malo} : 
			
				\item \textbf{GAUTRON Thomas} : 
			
			\end{itemize}
			
		\subsection{Diagramme de Gantt}
			% TODO: Ajouter un diagramme de Gantt

	\newpage			
	\section{Contexte et problématique}
		\subsection{Contexte}
		
			Flappy Bird est un jeu mobile devenu viral en 2013, connu pour sa simplicité et sa difficulté addictive. Ce projet s'inscrit dans une démarche pédagogique de portage d'un jeu populaire sur une plateforme embarquée, permettant d'explorer les concepts de :
			
			\begin{itemize}
				\item Programmation embarquée sur microcontrôleur
				\item Interface homme-machine avec différents types de contrôles
				\item Communication entre systèmes embarqués et ordinateur
				\item Optimisation des ressources limitées
			\end{itemize}
			
		\subsection{Problématique}
		
			Le projet répond à plusieurs défis techniques :
			
			\begin{itemize}
				\item Comment implémenter un jeu graphique sur un microcontrôleur aux ressources limitées ?
				\item Comment assurer une communication fiable entre le microcontrôleur et le PC ?
				\item Comment gérer différents modes de contrôle (bouton, potentiomètre) de manière efficace ?
				\item Comment maintenir une expérience de jeu fluide malgré les contraintes matérielles ?
			\end{itemize}
			
		\subsection{Spécifications techniques}
			% TODO: Ajouter des critères quantitatifs pour chaque spécification
			Le projet doit répondre aux spécifications suivantes :
			
			\begin{itemize}
				\item \textbf{Performance :}
					\begin{itemize}
						\item Taux de rafraîchissement > 30 FPS
						\item Latence des contrôles < 20ms
						\item Précision de collision > 95\%
					\end{itemize}
				\item \textbf{Matériel :}
					\begin{itemize}
						\item Microcontrôleur PIC18F4550
						\item Communication USB CDC à 38400 bauds
						\item Écran GLCD 128x64 pixels
						\item Afficheur 7 segments quadruple
					\end{itemize}
				\item \textbf{Modes de contrôle :}
					\begin{itemize}
						\item Bouton poussoir (temps de réponse < 10ms)
						\item Potentiomètre (résolution ADC 10 bits)
						\item Capteur ultrason HC-SR04 (précision ±1cm)
						\item Capteur IR (portée 20-150cm)
					\end{itemize}
				\item \textbf{Interface PC :}
					\begin{itemize}
						\item Développée en Python/Tkinter
						\item Support multi-résolution
						\item Sauvegarde des scores
					\end{itemize}
			\end{itemize}
		
	\newpage
	\section{Conception}
		\subsection{Architecture fonctionnelle}
		
			Les principales fonctionnalités du projet sont :
			
			\begin{itemize}
				\item Afficher les éléments graphiques du jeu
				\item Détecter les entrées utilisateur
				\item Calculer la physique du jeu
				\item Gérer les collisions
				\item Communiquer avec le PC
				\item Afficher le score
				\item Sauvegarder les meilleurs scores
			\end{itemize}
			
		\subsection{Architecture matérielle}
			% TODO: Ajouter des schémas de connexion et des photos du montage
			Le système est composé de plusieurs éléments matériels :
			
			\begin{itemize}
				\item Microcontrôleur PIC18F4550
					\begin{itemize}
						\item Gestion des entrées/sorties
						\item Communication USB
						\item Contrôle de l'affichage
					\end{itemize}
				\item Écran GLCD
					\begin{itemize}
						\item Affichage des éléments graphiques du jeu
					\end{itemize}
				\item Interface USB
					\begin{itemize}
						\item Communication avec le PC
						\item Alimentation du circuit
					\end{itemize}
				\item Boutons et potentiomètre
					\begin{itemize}
						\item Contrôle du jeu
						\item Sélection des modes
					\end{itemize}
				\item Afficheur 7 segments
					\begin{itemize}
						\item Affichage du score en temps réel
					\end{itemize}
			\end{itemize}
			
		\subsection{Architecture logicielle}
		
			Le logiciel est divisé en deux parties principales :
			
			\subsubsection{Firmware PIC18F}
			\begin{itemize}
				\item Gestion des interruptions (Timer, USB, ADC)
				\item Contrôle de l'écran GLCD
				\item Communication USB CDC
				\item Gestion des entrées utilisateur
				\item Affichage du score
			\end{itemize}
			
			\subsubsection{Application PC Python}
			\begin{itemize}
				\item Interface graphique (Tkinter)
				\item Moteur physique du jeu
				\item Gestion des assets graphiques
				\item Communication série
				\item Gestion des états du jeu
				\item Gestion des scores
			\end{itemize}
	\newpage
	\section{Développement}
			
		Le développement du projet s'est articulé autour de plusieurs modules clés :
			
		\subsection{Communication USB CDC}
			Le microcontrôleur PIC18F4550 est configuré pour fonctionner comme un périphérique USB CDC, permettant une communication série à 38400 bauds avec le PC. Les principales caractéristiques sont :
			
			\begin{itemize}
				\item Configuration du module USB en mode CDC
				\item Gestion des interruptions USB pour la réception et l'envoi de données
				\item Protocole de communication simple basé sur des commandes ASCII
				\item Buffer circulaire pour la gestion des données
			\end{itemize}
			
		\subsection{Interface graphique PC}
			L'interface PC est développée en Python avec Tkinter, offrant :
			
			\begin{itemize}
				\item Rendu graphique fluide avec double buffering
				\item Gestion des états du jeu (menu, jeu, game over)
				\item Système de collision et physique du jeu
				\item Gestion des assets et animations
				\item Communication série avec le microcontrôleur
			\end{itemize}
			
		\subsection{Gestion des entrées}
			Le système gère plusieurs types d'entrées :
			
			\begin{itemize}
				\item Mode bouton : interruptions sur les pins RB0-RB2
				\item Mode potentiomètre : conversion ADC sur le pin RA4
				\item Multiplexage de l'afficheur 7 segments
				\item Debouncing matériel des boutons
			\end{itemize}
			
		\subsection{Affichage GLCD}
			L'écran GLCD est géré par une bibliothèque dédiée qui offre :
			
			\begin{itemize}
				\item Initialisation et configuration de l'écran
				\item Fonctions de dessin de base (pixels, lignes, texte)
				\item Buffer d'affichage pour éviter le scintillement
				\item Gestion de la mémoire graphique
	\newpage	
	\section{Tests et validation}
		% TODO: Ajouter des graphiques de performance et des captures d'oscilloscope
		Les tests ont été réalisés module par module pour assurer la qualité du système :
		
		\subsection{Communication USB}
			\begin{itemize}
				\item \textbf{Test effectué :} Envoi et réception de commandes entre PC et PIC
				\item \textbf{Critères :} 
					\begin{itemize}
						\item Transmission sans perte à 38400 bauds
						\item Temps de réponse < 50ms
						\item Pas de corruption de données
					\end{itemize}
				\item \textbf{Résultats :} Communication stable avec latence moyenne de 20ms
				\item \textbf{Conclusion :} Module validé pour l'usage en jeu
			\end{itemize}
		
		\subsection{Interface graphique}
			\begin{itemize}
				\item \textbf{Test effectué :} Performance du rendu et fluidité du jeu
				\item \textbf{Critères :}
					\begin{itemize}
						\item 60 FPS constants
						\item Pas de scintillement
						\item Réponse immédiate aux entrées
					\end{itemize}
				\item \textbf{Résultats :} FPS stable entre 58-60, latence < 16ms
				\item \textbf{Conclusion :} Performance graphique satisfaisante
			\end{itemize}
		
		\subsection{Contrôles}
			\begin{itemize}
				\item \textbf{Test effectué :} Réactivité des différents modes de contrôle
				\item \textbf{Critères :}
					\begin{itemize}
						\item Pas de faux positifs sur les boutons
						\item Lecture ADC stable
						\item Temps de réponse < 20ms
					\end{itemize}
				\item \textbf{Résultats :} Contrôles réactifs et fiables
				\item \textbf{Conclusion :} Système de contrôle validé
			\end{itemize}
		
		\subsection{Tests d'intégration}
			\begin{itemize}
				\item \textbf{Test effectué :} Fonctionnement complet du système
				\item \textbf{Critères :}
					\begin{itemize}
						\item Stabilité sur longue durée
						\item Pas de perte de synchronisation
						\item Gestion correcte des scores
					\end{itemize}
				\item \textbf{Résultats :} Système stable après plusieurs heures de test
				\item \textbf{Conclusion :} Intégration réussie des différents modules
			\end{itemize}
	\newpage
	\section{Bilan}	
		\subsection{État d’avancement}
		
			Le projet a atteint ses objectifs principaux :
			
			\begin{itemize}
				\item Implémentation réussie du jeu Flappy Bird
				\item Communication stable entre PC et microcontrôleur
				\item Multiple modes de contrôle fonctionnels
				\item Interface graphique fluide et réactive
			\end{itemize}
			
			Améliorations possibles :
			\begin{itemize}
				\item Optimisation de l'affichage GLCD
				\item Ajout de modes de jeu supplémentaires
				\item Amélioration des animations
			\end{itemize}
			
		\subsection{Pertinence de la solution technique}
			
			Limites techniques identifiées :
			\begin{itemize}
				\item Ressources limitées du PIC18F4550
				\item Rafraîchissement limité de l'écran GLCD
				\item Latence de la communication USB
			\end{itemize}
			
			Évolutions possibles :
			\begin{itemize}
				\item Ajout de niveaux de difficulté
				\item Support de plusieurs joueurs
				\item Sauvegarde des meilleurs scores en EEPROM
				\item Amélioration des effets sonores
			\end{itemize}
			
		\subsection{Bilan personnel}
		
			Compétences développées :
			\begin{itemize}
				\item Programmation embarquée sur PIC18F
				\item Développement d'interfaces graphiques en Python
				\item Communication série et protocole USB
				\item Gestion de projet technique complet
				\item Documentation technique
			\end{itemize}
			
			Points d'amélioration :
			\begin{itemize}
				\item Meilleure planification initiale
				\item Documentation plus régulière
				\item Tests plus systématiques
				\item Versionnage plus rigoureux du code
			\end{itemize}
	
	\newpage	
	\section{Sources}
		
		\begin{itemize}
			\item Documentation technique du PIC18F4550
			\item Documentation USB CDC de Microchip
			\item Documentation de la bibliothèque GLCD
			\item Documentation Python et Tkinter
			\item Forums et ressources en ligne :
				\begin{itemize}
					\item Stack Overflow
					\item Microchip Forums
					\item Python Documentation
				\end{itemize}
			\item Ressources pédagogiques ECE
		\end{itemize}
	
	\newpage
	\section{Annexes}
		% TODO: Ajouter
		\begin{itemize}
			\item Schémas électroniques détaillés
			\item Protocole de communication USB détaillé
			\item Résultats des tests complets
			\item Manuel d'utilisation
			\item \textbf{Note :} Le code source complet est disponible sur le dépôt GitHub mais n'est pas inclus dans ce rapport
		\end{itemize}

\end{document}